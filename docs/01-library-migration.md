# ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç§»è¡Œè¨ˆç”»æ›¸

## ä»®å®šæ¡ä»¶

æœ¬è¨ˆç”»æ›¸ã¯ä»¥ä¸‹ã®ä»®å®šã«åŸºã¥ã„ã¦ä½œæˆã—ã¦ã„ã‚‹ã€‚

1. **ç§»è¡Œå…ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Vue 3.5 ç³» (æœ€æ–°å®‰å®šç‰ˆ) ã‚’å¯¾è±¡ã¨ã™ã‚‹ã€‚Vue 3.6 ã¯ãƒ™ãƒ¼ã‚¿æ®µéšã®ãŸã‚å¯¾è±¡å¤–ã¨ã™ã‚‹ã€‚
2. **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«**: Webpack 3 ã‹ã‚‰ Vite 6 ç³» (å®‰å®šç‰ˆ) ã¸ç§»è¡Œã™ã‚‹ã€‚Vite 7 ã¯ Node.js 20.19+ ã‚’è¦æ±‚ã—ã€Vite 8 ã¯ãƒ™ãƒ¼ã‚¿ã®ãŸã‚ã€å®‰å®šæ€§ã‚’é‡è¦–ã—ã¦ Vite 6 ç³»ã‚’æ¡ç”¨ã™ã‚‹ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚åˆã‚ã›ã¦ 18+ ã«å¼•ãä¸Šã’ã‚‹å‰æã¨ã™ã‚‹ã€‚
3. **çŠ¶æ…‹ç®¡ç†**: Vuex 3 ã‹ã‚‰ Pinia 3 ã¸ç§»è¡Œã™ã‚‹ã€‚Pinia ã¯ Vue å…¬å¼æ¨å¥¨ã®çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹ã€‚
4. **UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: Bootstrap (bootstrap, bootstrap-vue, bootstrap-icons) ã‚’å®Œå…¨ã«å»ƒæ­¢ã™ã‚‹ã€‚ç¾è¡Œãƒ‡ã‚¶ã‚¤ãƒ³ã¯è‡ªå‰ã® CSS ã§å†ç¾ã™ã‚‹ã€‚
5. **æ®µéšçš„ç§»è¡Œ**: ä¸€æ‹¬ç§»è¡Œã§ã¯ãªãæ®µéšçš„ã«ç§»è¡Œã™ã‚‹æ–¹é‡ã¨ã™ã‚‹ã€‚
6. **TypeScript**: Vue 3 ç§»è¡Œã¨åˆã‚ã›ã¦ TypeScript ã‚’å°å…¥ã™ã‚‹ã€‚`<script setup lang="ts">` ã‚’æ®µéšçš„ã«é©ç”¨ã™ã‚‹ã€‚
7. **ãƒ†ã‚¹ãƒˆ**: æ—¢å­˜ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¯å­˜åœ¨ã—ãªã„å‰æã¨ã™ã‚‹ (package.json ã«ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æœªå®šç¾©)ã€‚

---

## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç§»è¡Œä¸€è¦§

| ã‚«ãƒ†ã‚´ãƒª | ç¾è¡Œ | ç§»è¡Œå…ˆ | å‚™è€ƒ |
|---|---|---|---|
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | vue ^2.5.2 | vue ^3.5.28 | ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ— |
| ãƒ«ãƒ¼ã‚¿ãƒ¼ | vue-router ^3.0.1 | vue-router ^4.5.0 | ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ— |
| çŠ¶æ…‹ç®¡ç† | vuex ^3.0.1 | pinia ^3.0.4 | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¤‰æ›´ |
| UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | bootstrap-vue ^2.22.0 | å»ƒæ­¢ (è‡ªå‰ CSS ã«ç½®æ›) | å‰Šé™¤ |
| CSS ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | bootstrap ^5.2.0 | å»ƒæ­¢ (ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’è‡ªå‰ CSS ã«ç½®æ›) | å‰Šé™¤ |
| ã‚¢ã‚¤ã‚³ãƒ³ | bootstrap-icons ^1.9.1 | å»ƒæ­¢ (Unicode ãƒ†ã‚­ã‚¹ãƒˆ or è‡ªå‰ SVG ã«ç½®æ›) | å‰Šé™¤ |
| å‹ã‚·ã‚¹ãƒ†ãƒ  | ãªã— | typescript ^5.x | æ–°è¦å°å…¥ |
| ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« | webpack ^3.6.0 | vite ^6.1.0 | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¤‰æ›´ |
| Vue SFC ã‚³ãƒ³ãƒ‘ã‚¤ãƒ© | vue-template-compiler ^2.5.2 | @vue/compiler-sfc (vue ã«åŒæ¢±) | vue 3 ã«çµ±åˆ |
| Vue ãƒ­ãƒ¼ãƒ€ãƒ¼ | vue-loader ^13.3.0 | @vitejs/plugin-vue ^5.2.3 | Vite ç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«å¤‰æ›´ |
| ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ© | babel-core ^6.22.1 + é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ä¸è¦ (Vite å†…è”µã® esbuild) | å‰Šé™¤ |
| dev ã‚µãƒ¼ãƒãƒ¼ | webpack-dev-server ^2.9.1 | ä¸è¦ (Vite å†…è”µ) | å‰Šé™¤ |

### å‰Šé™¤å¯¾è±¡ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

ä»¥ä¸‹ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ Vite ç§»è¡Œ + Bootstrap å»ƒæ­¢ã«ä¼´ã„å…¨ã¦ä¸è¦ã¨ãªã‚‹ã€‚

**dependencies (å‰Šé™¤):**
- bootstrap, bootstrap-vue, bootstrap-icons

**devDependencies (å‰Šé™¤):**
- webpack, webpack-dev-server, webpack-merge, webpack-bundle-analyzer
- babel-core, babel-loader, babel-helper-vue-jsx-merge-props, babel-plugin-syntax-jsx, babel-plugin-transform-runtime, babel-plugin-transform-vue-jsx, babel-preset-env, babel-preset-stage-2
- vue-loader, vue-style-loader, vue-template-compiler
- extract-text-webpack-plugin, html-webpack-plugin, copy-webpack-plugin
- optimize-css-assets-webpack-plugin, uglifyjs-webpack-plugin
- css-loader, file-loader, url-loader, postcss-loader, postcss-import, postcss-url
- autoprefixer, friendly-errors-webpack-plugin
- ora, chalk, rimraf, semver, shelljs, node-notifier, portfinder

### æ–°è¦è¿½åŠ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

- typescript ^5.x
- vue-tsc (Vue SFC ã®å‹ãƒã‚§ãƒƒã‚¯)

---

## å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® Breaking Changes

### 1. Vue 2 â†’ Vue 3

Vue 3 ã¯ Vue 2 ã‹ã‚‰å¤šæ•°ã®ç ´å£Šçš„å¤‰æ›´ãŒã‚ã‚‹ã€‚æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å½±éŸ¿ã™ã‚‹ä¸»è¦ãªå¤‰æ›´ç‚¹ã‚’ä»¥ä¸‹ã«ç¤ºã™ã€‚

#### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–

```javascript
// Vue 2 (ç¾è¡Œ)
import Vue from 'vue'
new Vue({ router, store, render: h => h(App) }).$mount('#app')

// Vue 3 (ç§»è¡Œå¾Œ)
import { createApp } from 'vue'
const app = createApp(App)
app.use(router)
app.use(pinia)
app.mount('#app')
```

#### ã‚°ãƒ­ãƒ¼ãƒãƒ« API ã®å¤‰æ›´

| Vue 2 | Vue 3 | å½±éŸ¿ |
|---|---|---|
| `Vue.component()` | `app.component()` | ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç™»éŒ² |
| `Vue.directive()` | `app.directive()` | ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ç™»éŒ² |
| `Vue.mixin()` | `app.mixin()` | ã‚°ãƒ­ãƒ¼ãƒãƒ« mixin ç™»éŒ² |
| `Vue.use()` | `app.use()` | ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç™»éŒ² |
| `Vue.prototype.$xxx` | `app.config.globalProperties.$xxx` | ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ |
| `Vue.set()` / `Vue.delete()` | å‰Šé™¤ (ä¸è¦) | ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚·ã‚¹ãƒ†ãƒ å¤‰æ›´ã«ã‚ˆã‚Šä¸è¦ |
| `new Vue()` | `createApp()` | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ–¹æ³• |

#### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å¤‰æ›´

- **v-model**: `v-model` ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ prop ãŒ `value` â†’ `modelValue` ã«å¤‰æ›´ã€‚ã‚¤ãƒ™ãƒ³ãƒˆã‚‚ `input` â†’ `update:modelValue` ã«å¤‰æ›´ã€‚
- **v-if / v-for å„ªå…ˆåº¦**: åŒä¸€è¦ç´ ä¸Šã® `v-if` ã¨ `v-for` ã®å„ªå…ˆåº¦ãŒé€†è»¢ (`v-if` ãŒå„ªå…ˆã«)ã€‚
- **v-bind.sync**: å»ƒæ­¢ã€‚`v-model:propName` ã§ä»£æ›¿ã€‚
- **$listeners**: å»ƒæ­¢ã€‚`$attrs` ã«çµ±åˆã€‚
- **$scopedSlots**: å»ƒæ­¢ã€‚å…¨ã¦ `$slots` ã«çµ±åˆã€‚

#### ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®å¤‰æ›´

| Vue 2 | Vue 3 (Options API) | å‚™è€ƒ |
|---|---|---|
| `beforeCreate` | `beforeCreate` | å¤‰æ›´ãªã— |
| `created` | `created` | å¤‰æ›´ãªã— |
| `beforeMount` | `beforeMount` | å¤‰æ›´ãªã— |
| `mounted` | `mounted` | å¤‰æ›´ãªã— |
| `beforeUpdate` | `beforeUpdate` | å¤‰æ›´ãªã— |
| `updated` | `updated` | å¤‰æ›´ãªã— |
| `beforeDestroy` | `beforeUnmount` | åç§°å¤‰æ›´ |
| `destroyed` | `unmounted` | åç§°å¤‰æ›´ |

#### ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®å»ƒæ­¢

Vue 3 ã§ã¯ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ (`{{ value | filterName }}`) ãŒå»ƒæ­¢ã•ã‚ŒãŸã€‚computed ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¾ãŸã¯ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ã§ä»£æ›¿ã™ã‚‹ã€‚

#### ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ (`$on`, `$off`, `$once`) ã®å»ƒæ­¢

Vue 3 ã§ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ `$on`, `$off`, `$once` ãŒå‰Šé™¤ã•ã‚ŒãŸã€‚å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (mitt ç­‰) ã§ä»£æ›¿ã™ã‚‹ã€‚

---

### 2. Vue Router 3 â†’ Vue Router 4

#### ãƒ«ãƒ¼ã‚¿ãƒ¼ç”Ÿæˆæ–¹æ³•ã®å¤‰æ›´

```javascript
// Vue Router 3 (ç¾è¡Œ)
import Router from 'vue-router'
Vue.use(Router)
export default new Router({
  mode: 'history',
  routes: [...]
})

// Vue Router 4 (ç§»è¡Œå¾Œ)
import { createRouter, createWebHistory } from 'vue-router'
export default createRouter({
  history: createWebHistory(),
  routes: [...]
})
```

#### ä¸»è¦ãª Breaking Changes

| é …ç›® | Vue Router 3 | Vue Router 4 |
|---|---|---|
| ãƒ«ãƒ¼ã‚¿ãƒ¼ç”Ÿæˆ | `new Router()` | `createRouter()` |
| history ãƒ¢ãƒ¼ãƒ‰ | `mode: 'history'` | `history: createWebHistory()` |
| hash ãƒ¢ãƒ¼ãƒ‰ | `mode: 'hash'` | `history: createWebHashHistory()` |
| `router.onReady()` | ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å½¢å¼ | `router.isReady()` (Promise) |
| ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½® | `{ x, y }` | `{ left, top }` |
| `<router-view>` | ç›´æ¥æç”» | `v-slot` API åˆ©ç”¨å¯èƒ½ |
| catch-all ãƒ«ãƒ¼ãƒˆ | `path: '*'` | `path: '/:pathMatch(.*)*'` |
| ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | åŒæœŸçš„ | å¸¸ã«éåŒæœŸ |

---

### 3. Vuex 3 â†’ Pinia 3

Vuex ã‹ã‚‰ Pinia ã¸ã®ç§»è¡Œã¯ API ãŒå¤§ããç•°ãªã‚‹ãŸã‚ã€å®Ÿè³ªçš„ã«æ›¸ãæ›ãˆã¨ãªã‚‹ã€‚

#### ã‚¹ãƒˆã‚¢å®šç¾©ã®å¤‰æ›´

```javascript
// Vuex 3 (ç¾è¡Œ) - store/player.js
export default {
  namespaced: true,
  state: { ... },
  getters: { ... },
  mutations: { ... },
  actions: { ... }
}

// Pinia 3 (ç§»è¡Œå¾Œ) - stores/player.js
import { defineStore } from 'pinia'
export const usePlayerStore = defineStore('player', {
  state: () => ({ ... }),
  getters: { ... },
  actions: { ... }  // mutations ã¯ actions ã«çµ±åˆ
})
```

#### ä¸»è¦ãª Breaking Changes

| é …ç›® | Vuex 3 | Pinia 3 |
|---|---|---|
| ã‚¹ãƒˆã‚¢ç”Ÿæˆ | `new Vuex.Store()` | `createPinia()` |
| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | `modules: {}` ã§ãƒã‚¹ãƒˆ | ç‹¬ç«‹ã—ãŸ `defineStore()` |
| mutations | å¿…é ˆ | å»ƒæ­¢ (actions ã«çµ±åˆ) |
| state ã‚¢ã‚¯ã‚»ã‚¹ | `this.$store.state.player.xxx` | `const player = usePlayerStore(); player.xxx` |
| getter ã‚¢ã‚¯ã‚»ã‚¹ | `this.$store.getters['player/xxx']` | `player.xxx` |
| action å‘¼ã³å‡ºã— | `this.$store.dispatch('player/xxx')` | `player.xxx()` |
| mapHelpers | `mapState`, `mapGetters`, `mapMutations`, `mapActions` | `mapState`, `mapActions` (Piniaç‰ˆ) |
| åå‰ç©ºé–“ | `namespaced: true` | store ID ã§è‡ªå‹•çš„ã«åˆ†é›¢ |
| devtools | Vuex ã‚¿ãƒ– | Pinia ã‚¿ãƒ– |

#### æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®å½±éŸ¿

- `src/store/player.js` ã¨ `src/store/enemy.js` ã® 2 ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å€‹åˆ¥ã® Pinia ã‚¹ãƒˆã‚¢ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
- `src/store.js` (ãƒ«ãƒ¼ãƒˆã‚¹ãƒˆã‚¢) ã¯ `createPinia()` ã«ç½®ãæ›ãˆã€‚
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ã® `$store` ã‚¢ã‚¯ã‚»ã‚¹ã‚’å…¨ã¦ `useXxxStore()` ã«å¤‰æ›´ã€‚

---

### 4. Bootstrap å®Œå…¨å»ƒæ­¢ â†’ è‡ªå‰ CSS

Bootstrap (bootstrap, bootstrap-vue, bootstrap-icons) ã‚’å®Œå…¨ã«å»ƒæ­¢ã—ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’è‡ªå‰ CSS ã§ç¶­æŒã™ã‚‹ã€‚

#### å»ƒæ­¢ç†ç”±

- bootstrap-vue-next ã¯ alpha ç‰ˆã§å®‰å®šæ€§ã«ä¸å®‰ãŒã‚ã‚‹
- æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ `<b-*>` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç›´æ¥ä½¿ç”¨ã—ã¦ãŠã‚‰ãšã€ä¸»ã« CSS ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã¨ã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ä½¿ç”¨
- ä¾å­˜ã‚’æ¸›ã‚‰ã—ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›ã§ãã‚‹

#### å¿…è¦ãªå¯¾å¿œ

**A. Bootstrap ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã®ç½®æ›**

ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’ `src/assets/css/common.css` ã«è‡ªå‰å®šç¾©ã™ã‚‹ã€‚

| Bootstrap ã‚¯ãƒ©ã‚¹ | ç”¨é€” | CSS å®šç¾© |
|---|---|---|
| `row` | Flex ã‚³ãƒ³ãƒ†ãƒŠ | `display: flex; flex-wrap: wrap;` |
| `col-sm-3`, `col-sm-4`, `col-sm-6` | ã‚°ãƒªãƒƒãƒ‰åˆ— | `flex: 0 0 25%/33.3%/50%; max-width: 25%/33.3%/50%;` |
| `m-auto` | margin è‡ªå‹• | `margin: auto;` |
| `mt-3`, `mt-5`, `mb-0`, `mb-2`, `mb-4` | margin | `margin-top/bottom: 1rem/3rem/0/0.5rem/1.5rem;` |
| `ms-2`, `ms-5`, `me-2` | margin å·¦å³ | `margin-left/right: 0.5rem/3rem;` |
| `p-2`, `p-3`, `pt-2`, `pt-4`, `pt-5` | padding | å¯¾å¿œã™ã‚‹å€¤ã‚’å®šç¾© |
| `w-25`, `w-50`, `w-75`, `w-100` | å¹… | `width: 25%/50%/75%/100%;` |
| `fs-3`, `fs-4` | ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º | `font-size: 1.75rem/1.25rem;` |
| `text-start`, `text-center` | ãƒ†ã‚­ã‚¹ãƒˆé…ç½® | `text-align: left/center;` |
| `text-secondary` | ãƒ†ã‚­ã‚¹ãƒˆè‰² | `color: #6c757d;` |
| `bg-light` | èƒŒæ™¯è‰² | `background-color: #f8f9fa;` |
| `border-light` | ãƒœãƒ¼ãƒ€ãƒ¼è‰² | `border-color: #f8f9fa;` |

**B. Bootstrap Icons ã®ç½®æ›**

ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ä¸€è¦§ã¨ç½®æ›æ–¹æ³•:

| ã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒ©ã‚¹ | ä½¿ç”¨ç®‡æ‰€ | ç½®æ›æ¡ˆ |
|---|---|---|
| `bi-arrow-right` | Select, GameResult, FreeSelect | `â†’` (Unicode) or inline SVG |
| `bi-arrow-clockwise` | Select, FreeSelect | `â†»` (Unicode) or inline SVG |
| `bi-house-door-fill` | Battle, Thanks | `ğŸ ` or inline SVG |
| `bi-cursor-fill` | Home | `â–¶` (Unicode) or inline SVG |
| `bi-person-check-fill` | Select, FreeSelect | `ğŸ‘¤` or inline SVG |
| `bi-caret-right-fill` | Select (accordion) | `â–¶` / `â–¼` (Unicode) |
| `bi-caret-down-fill` | Select (accordion) | `â–¼` (Unicode) |

> ãƒ‰ãƒƒãƒˆãƒ•ã‚©ãƒ³ãƒˆã®ã‚²ãƒ¼ãƒ ã®ä¸–ç•Œè¦³ã«åˆã‚ã›ã€Unicode ãƒ†ã‚­ã‚¹ãƒˆæ–‡å­—ã§ã®ç½®æ›ã‚’æ¨å¥¨ã™ã‚‹ã€‚

---

### 5. Webpack 3 + Babel 6 â†’ Vite 6

#### ãƒ“ãƒ«ãƒ‰è¨­å®šã®å¤‰æ›´

```javascript
// Vite è¨­å®š (vite.config.js) - æ–°è¦ä½œæˆ
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': '/src'
    }
  }
})
```

#### ä¸»è¦ãª Breaking Changes

| é …ç›® | Webpack 3 + Babel 6 | Vite 6 |
|---|---|---|
| è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« | `build/webpack.*.conf.js` (è¤‡æ•°) | `vite.config.js` (å˜ä¸€) |
| ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ | `src/main.js` (webpackè¨­å®šã§æŒ‡å®š) | `index.html` å†…ã® `<script type="module">` |
| ç’°å¢ƒå¤‰æ•° | `process.env.XXX` | `import.meta.env.XXX` |
| é™çš„ã‚¢ã‚»ãƒƒãƒˆ | `require()` / `url-loader` / `file-loader` | ESM import (è‡ªå‹•å‡¦ç†) |
| CSS å‡¦ç† | css-loader + postcss-loader | çµ„ã¿è¾¼ã¿ PostCSS ã‚µãƒãƒ¼ãƒˆ |
| ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ« | Babel 6 (æ‰‹å‹•è¨­å®š) | esbuild (çµ„ã¿è¾¼ã¿ã€è¨­å®šä¸è¦) |
| dev ã‚µãƒ¼ãƒãƒ¼ | webpack-dev-server | Vite å†…è”µ dev ã‚µãƒ¼ãƒãƒ¼ |
| HMR | webpack HMR | Vite HMR (é«˜é€Ÿ) |
| æœ¬ç•ªãƒ“ãƒ«ãƒ‰ | UglifyJS + ExtractTextPlugin | Rollup (çµ„ã¿è¾¼ã¿) |
| `index.html` ã®å ´æ‰€ | `index.html` (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ) | `index.html` (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ) |

#### `require()` ã®å»ƒæ­¢

Vite ã¯ ESM ãƒ™ãƒ¼ã‚¹ã®ãŸã‚ã€`require()` ã«ã‚ˆã‚‹å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¯ä½¿ç”¨ã§ããªã„ã€‚å…¨ã¦ `import` æ–‡ã¾ãŸã¯ `import()` ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ç”»åƒã®å‹•çš„èª­ã¿è¾¼ã¿ã« `require()` ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒé«˜ãã€ç‰¹ã«æ³¨æ„ãŒå¿…è¦ã€‚

```javascript
// Webpack (ç¾è¡Œ)
const img = require('@/assets/images/' + name + '.gif')

// Vite (ç§»è¡Œå¾Œ)
const img = new URL(`../assets/images/${name}.gif`, import.meta.url).href
// ã¾ãŸã¯ import.meta.glob ã‚’ä½¿ç”¨
const images = import.meta.glob('@/assets/images/*.gif', { eager: true })
```

---

### 6. TypeScript å°å…¥

Vue 3 ã¯ TypeScript ã‚’ç¬¬ä¸€ç´šã§ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã€‚æœ¬ç§»è¡Œã«åˆã‚ã›ã¦ TypeScript ã‚’å°å…¥ã™ã‚‹ã€‚

#### å°å…¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
npm install -D typescript vue-tsc
```

#### tsconfig.json

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "strict": true,
    "jsx": "preserve",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "esModuleInterop": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "baseUrl": ".",
    "paths": { "@/*": ["src/*"] },
    "types": ["vite/client"]
  },
  "include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.vue"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

#### æ®µéšçš„å°å…¥æ–¹é‡

1. **Phase 1**: `tsconfig.json` ã¨ `vite.config.ts` ã‚’è¨­å®šã€‚`env.d.ts` ã§ `.vue` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®£è¨€ã‚’è¿½åŠ 
2. **Phase 2**: ã‚¹ãƒˆã‚¢ (`stores/player.ts`, `stores/enemy.ts`) ã‚’ TypeScript åŒ–ã€‚å‹å®šç¾©ã§ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å‹å®‰å…¨æ€§ã‚’ç¢ºä¿
3. **Phase 3**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ (`utils/imageLoader.ts`) ã‚’ TypeScript åŒ–
4. **Phase 4**: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ `<script setup lang="ts">` ã«æ®µéšçš„ã«å¤‰æ›ã€‚æœ€åˆã¯ã‚·ãƒ³ãƒ—ãƒ«ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Home, Thanks) ã‹ã‚‰ç€æ‰‹

---

## ç§»è¡Œæ‰‹é †æ¦‚è¦

### ãƒ•ã‚§ãƒ¼ã‚º 1: ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã®ç§»è¡Œ (Webpack 3 â†’ Vite 6)

1. `vite.config.js` ã‚’æ–°è¦ä½œæˆã€‚
2. `index.html` ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•ã—ã€`<script type="module" src="/src/main.js"></script>` ã‚’è¿½åŠ ã€‚
3. `build/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (Webpack è¨­å®š) ã‚’å‰Šé™¤ã€‚
4. Babel é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¨ã¦å‰Šé™¤ã€‚
5. Webpack é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¨ã¦å‰Šé™¤ã€‚
6. `package.json` ã® scripts ã‚’æ›´æ–° (`vite`, `vite build`, `vite preview`)ã€‚
7. `require()` ã‚’ ESM import ã«å¤‰æ›ã€‚
8. ç’°å¢ƒå¤‰æ•°ã‚’ `import.meta.env` ã«å¤‰æ›´ã€‚
9. Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 18+ ã«å¼•ãä¸Šã’ã€‚

### ãƒ•ã‚§ãƒ¼ã‚º 2: Vue ã‚³ã‚¢ã®ç§»è¡Œ (Vue 2 â†’ Vue 3)

1. `vue`, `vue-router`, `vuex` ã‚’å‰Šé™¤ã—ã€`vue` (3.x), `vue-router` (4.x), `pinia` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚
2. `vue-template-compiler` ã‚’å‰Šé™¤ (`@vue/compiler-sfc` ã¯ vue 3 ã«åŒæ¢±)ã€‚
3. `src/main.js` ã‚’ `createApp()` ãƒ™ãƒ¼ã‚¹ã«æ›¸ãæ›ãˆã€‚
4. `src/router.js` ã‚’ `createRouter()` + `createWebHistory()`/`createWebHashHistory()` ã«æ›¸ãæ›ãˆã€‚
5. ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯åã‚’å¤‰æ›´ (`beforeDestroy` â†’ `beforeUnmount`, `destroyed` â†’ `unmounted`)ã€‚
6. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹æ–‡ã®ä¿®æ­£ (v-modelã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç­‰)ã€‚

### ãƒ•ã‚§ãƒ¼ã‚º 3: çŠ¶æ…‹ç®¡ç†ã®ç§»è¡Œ (Vuex 3 â†’ Pinia 3)

1. `pinia` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (ãƒ•ã‚§ãƒ¼ã‚º 2 ã§å®Ÿæ–½æ¸ˆã¿)ã€‚
2. `src/store/player.js` ã‚’ Pinia ã‚¹ãƒˆã‚¢ (`src/stores/player.js`) ã«å¤‰æ›ã€‚
3. `src/store/enemy.js` ã‚’ Pinia ã‚¹ãƒˆã‚¢ (`src/stores/enemy.js`) ã«å¤‰æ›ã€‚
4. `src/store.js` ã‚’ `createPinia()` ã«æ›¸ãæ›ãˆã€‚
5. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ã® `$store` ã‚¢ã‚¯ã‚»ã‚¹ã‚’ `usePlayerStore()` / `useEnemyStore()` ã«å¤‰æ›´ã€‚

### ãƒ•ã‚§ãƒ¼ã‚º 4: Bootstrap å»ƒæ­¢ + è‡ªå‰ CSS åŒ–

1. Bootstrap ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã® CSS å®šç¾©ã‚’ `src/assets/css/common.css` ã«è¿½åŠ ã€‚
2. Bootstrap Icons ã‚’ Unicode ãƒ†ã‚­ã‚¹ãƒˆæ–‡å­—ã«ç½®æ›ã€‚
3. `bootstrap`, `bootstrap-vue`, `bootstrap-icons` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å‰Šé™¤ã€‚
4. `main.js` ã‹ã‚‰ Bootstrap é–¢é€£ã® import ã‚’å‰Šé™¤ã€‚
5. ãƒ‡ã‚¶ã‚¤ãƒ³ã®è¦‹ãŸç›®ãŒå¤‰ã‚ã£ã¦ã„ãªã„ã“ã¨ã‚’å…¨ç”»é¢ã§ç¢ºèªã€‚

### ãƒ•ã‚§ãƒ¼ã‚º 5: TypeScript å°å…¥

1. `typescript`, `vue-tsc` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚
2. `tsconfig.json`, `tsconfig.node.json`, `env.d.ts` ã‚’ä½œæˆã€‚
3. `vite.config.js` â†’ `vite.config.ts` ã«å¤‰æ›´ã€‚
4. ã‚¹ãƒˆã‚¢ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ®µéšçš„ã« `.ts` / `<script setup lang="ts">` ã«å¤‰æ›ã€‚

### ãƒ•ã‚§ãƒ¼ã‚º 5: å‹•ä½œç¢ºèªãƒ»ä¿®æ­£

1. å…¨ç”»é¢ã®å‹•ä½œç¢ºèª (Home â†’ Select â†’ Battle â†’ GameResult â†’ Thanks)ã€‚
2. ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ (ãƒãƒˆãƒ«ç”»é¢) ã®å‹•ä½œç¢ºèªã€‚
3. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ç”»åƒè¡¨ç¤ºã®ç¢ºèªã€‚
4. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°é·ç§»ã®ç¢ºèªã€‚
5. S3 ãƒ‡ãƒ—ãƒ­ã‚¤ã®ç¢ºèªã€‚

---

## ãƒªã‚¹ã‚¯ã¨æ³¨æ„ç‚¹

### é«˜ãƒªã‚¹ã‚¯

1. **Bootstrap å»ƒæ­¢æ™‚ã®ãƒ‡ã‚¶ã‚¤ãƒ³å´©ã‚Œ**
   - Bootstrap ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ (row, col-sm-*, m-*, p-*, w-*, fs-*, text-* ç­‰) ã‚’è‡ªå‰ CSS ã«ç½®æ›ã™ã‚‹éš›ã€è¦‹ãŸç›®ãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚
   - **å¯¾ç­–**: ç§»è¡Œå‰ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’ä¿å­˜ã—ã€å„ç”»é¢ã§æ¯”è¼ƒç¢ºèªã™ã‚‹ã€‚Chrome DevTools MCP ã§è‡ªå‹•ç¢ºèªã‚‚è¡Œã†ã€‚

2. **å‹•çš„ã‚¢ã‚»ãƒƒãƒˆèª­ã¿è¾¼ã¿ (`require()`) ã®ç§»è¡Œ**
   - ãƒãƒˆãƒ«ç”»é¢ã§ä½¿ç”¨ã•ã‚Œã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒã®å‹•çš„èª­ã¿è¾¼ã¿ãŒ `require()` ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹å ´åˆã€Vite ã§ã¯å‹•ä½œã—ãªã„ã€‚
   - **å¯¾ç­–**: `import.meta.glob` ã‚„ `new URL()` ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ›¸ãæ›ãˆã‚‹ã€‚å…¨ã¦ã®ç”»åƒãƒ‘ã‚¹ã‚’æ´—ã„å‡ºã—ã€æ¼ã‚Œãªãå¤‰æ›ã™ã‚‹ã€‚

### ä¸­ãƒªã‚¹ã‚¯

3. **Vuex â†’ Pinia ã®æ›¸ãæ›ãˆè¦æ¨¡**
   - mutations ã®å‰Šé™¤ã€ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å¤‰æ›´ã«ã‚ˆã‚Šã€ã‚¹ãƒˆã‚¢ã¨ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¿®æ­£ãŒå¿…è¦ã€‚
   - **å¯¾ç­–**: Vuex ã¨ Pinia ã¯ä¸€æ™‚çš„ã«å…±å­˜å¯èƒ½ãªãŸã‚ã€æ®µéšçš„ã«ç§»è¡Œã™ã‚‹ã€‚

4. **Vue 3 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹æ–‡ã®éäº’æ›**
   - `v-model` ã®ä»•æ§˜å¤‰æ›´ã€`$listeners` ã®å»ƒæ­¢ã€`$scopedSlots` ã®å»ƒæ­¢ãªã©ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¿®æ­£ç®‡æ‰€ãŒå¤šã„ã€‚
   - **å¯¾ç­–**: Vue 3 å…¬å¼ç§»è¡Œã‚¬ã‚¤ãƒ‰ (https://v3-migration.vuejs.org/) ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å¾“ã„ã€æ¼ã‚Œãªãä¿®æ­£ã™ã‚‹ã€‚

5. **Vue Router ã®éåŒæœŸãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**
   - Vue Router 4 ã§ã¯å…¨ã¦ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒéåŒæœŸã«ãªã‚‹ã€‚`created` ãƒ•ãƒƒã‚¯ã§ `$route.params` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ç®‡æ‰€ã¯æ³¨æ„ãŒå¿…è¦ã€‚
   - **å¯¾ç­–**: Battle.vue ãªã©ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¾å­˜ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ `onBeforeRouteUpdate` ã‚„ `watch` ã‚’ä½¿ç”¨ã™ã‚‹ã€‚

### ä½ãƒªã‚¹ã‚¯

6. **TypeScript å°å…¥ã®å­¦ç¿’ã‚³ã‚¹ãƒˆ**
   - æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¯å…¨ã¦ JavaScript ã§ã‚ã‚Šã€TypeScript åŒ–ã«ã¯å‹å®šç¾©ã®è¿½åŠ ãŒå¿…è¦ã€‚
   - **å¯¾ç­–**: æ®µéšçš„ã«å°å…¥ã—ã€æœ€åˆã¯ strict ãƒ¢ãƒ¼ãƒ‰ã§ã‚‚å‹ã‚¨ãƒ©ãƒ¼ãŒå°‘ãªã„ã‚¹ãƒˆã‚¢ãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‹ã‚‰ç€æ‰‹ã™ã‚‹ã€‚

7. **Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—**
   - ç¾è¡Œã® `>= 6.0.0` ã‹ã‚‰ `>= 18` ã¸ã®å¼•ãä¸Šã’ãŒå¿…è¦ã€‚
   - **å¯¾ç­–**: CI/CD ç’°å¢ƒã® Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚åˆã‚ã›ã¦æ›´æ–°ã™ã‚‹ã€‚

8. **ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã®å·®ç•°**
   - Webpack ã‹ã‚‰ Vite ã¸ã®å¤‰æ›´ã«ã‚ˆã‚Šã€ãƒ“ãƒ«ãƒ‰å‡ºåŠ›ã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚„ãƒãƒ£ãƒ³ã‚¯æ§‹æˆãŒå¤‰ã‚ã‚‹ã€‚
   - **å¯¾ç­–**: S3 ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š (GitHub Actions) ã‚’ç¢ºèªãƒ»æ›´æ–°ã™ã‚‹ã€‚

---

## å‚è€ƒãƒªãƒ³ã‚¯

- [Vue 3 Migration Guide](https://v3-migration.vuejs.org/)
- [Vue 3 Breaking Changes ä¸€è¦§](https://v3-migration.vuejs.org/breaking-changes/)
- [Vue Router 4 Migration Guide](https://router.vuejs.org/guide/migration/)
- [Pinia - Migrating from Vuex](https://pinia.vuejs.org/cookbook/migration-vuex.html)
- [BootstrapVueNext Migration Guide](https://bootstrap-vue-next.github.io/bootstrap-vue-next/docs/migration-guide)
- [Vite Getting Started](https://vite.dev/guide/)
